{% extends 'base.html.twig' %}

{% block title %}Hello ConversationController!{% endblock %}

{% block body %}
    
    <div class="row h1 messages">
        <a href="{{ path('getConversations') }}">
            <img src="{{ asset('assets/img/back.svg') }}" />
        </a>

        <img src="{{ asset('uploads/avatars/' ~ otherParticipant.avatarFilename) }}" />
        
        <h1>{{ otherParticipant.username }}</h1>
    </div>

    <div class="main-body message-body">
        {% for message in messages %}

            <div class="message-container">

            {% if message.mine %}
                <div class="message mine">
            {% else %}
                <img src="{{ asset('uploads/avatars/' ~ otherParticipant.avatarFilename) }}" />
                <div class="message other">
            {% endif %}
                <p>
                    {{ message.content }}
                </p>
            </div>

            </div>

        {% else %}

        {% endfor %}
    </div>

    <header class="message-form">
    {{ form_start(messageForm) }}
        {{ form_widget(messageForm) }}
        <button type="submit"><img src="{{ asset('assets/img/send.svg') }}" /></button>
    {{ form_end(messageForm) }}
    </header>

{% endblock %}